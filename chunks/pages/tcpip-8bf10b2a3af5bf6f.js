(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[205],{5321:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tcpip",function(){return i(5371)}])},5371:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return W}});var r=i(3231),s=i.n(r),t=i(9837),a=i(8173),o=i(8061),c=i(9976),l=i(1489),d=(0,a.L)((function(e){if(null==e.children)return null;e.block,e.className;var n=e.as,i=void 0===n?"span":n,r=(e.variant,e.nowrap,(0,o._T)(e,["block","className","as","variant","nowrap"])),s=(0,c.FJ)(e,{root:i});return(0,c.Yb)(s.root,(0,o.pi)({},(0,l.pq)(r,l.iY)))}),{displayName:"Text",styles:function(e,n){var i=e.as,r=e.className,s=e.block,t=e.nowrap,a=e.variant,o=n.fonts,c=n.semanticColors,l=o[a||"medium"];return{root:[l,{color:l.color||c.bodyText,display:s?"td"===i?"table-cell":"block":"inline",mozOsxFontSmoothing:l.MozOsxFontSmoothing,webkitFontSmoothing:l.WebkitFontSmoothing},t&&{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},r]}}}),u=i(3803),f=i(5105),p=i(7310),v=i(1298),m=i(6133),g=i(2828),b=i(7015),x=i(8144),h=i.n(x),w=i(3639),k=i(3617),y=i(5353),P=i(2373);function B(e,n,i,r,s,t,a){try{var o=e[t](a),c=o.value}catch(l){return void i(l)}o.done?n(c):Promise.resolve(c).then(r,s)}function S(e){return function(){var n=this,i=arguments;return new Promise((function(r,s){var t=e.apply(n,i);function a(e){B(t,r,s,a,o,"next",e)}function o(e){B(t,r,s,a,o,"throw",e)}a(void 0)}))}}function L(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}var N=function(){function e(){var n=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.initial=!0,this.visible=!1,this.serviceListenAddresses=void 0,this.servicePortEnabled=!1,this.servicePort="",this.persistPortEnabled=!1,this.persistPort=void 0;var i=this;this.queryInfo=(0,P.FW)(function(){var e=S(s().mark((function e(n){var r,t,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y.q.device){e.next=3;break}return(0,g.z)((function(){i.serviceListenAddresses=void 0,i.servicePortEnabled=!1,i.servicePort="",i.persistPortEnabled=!1,i.persistPort=void 0})),e.abrupt("return");case 3:return e.next=5,y.q.device.getProp("service.adb.listen_addrs");case 5:return r=e.sent,e.next=8,y.q.device.getProp("service.adb.tcp.port");case 8:return t=e.sent,e.next=11,y.q.device.getProp("persist.adb.tcp.port");case 11:if(a=e.sent,!n.aborted){e.next=14;break}return e.abrupt("return");case 14:(0,g.z)((function(){i.serviceListenAddresses=""!==r?r.split(","):void 0,t?(i.servicePortEnabled=!r&&"0"!==t,i.servicePort=t):(i.servicePortEnabled=!1,i.servicePort="5555"),a?(i.persistPortEnabled=!r&&!t,i.persistPort=a):(i.persistPortEnabled=!1,i.persistPort=void 0)}));case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),this.applyServicePort=S(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y.q.device){e.next=2;break}return e.abrupt("return");case 2:if(!M.servicePortEnabled){e.next=7;break}return e.next=5,y.q.device.tcpip.setPort(Number.parseInt(M.servicePort,10));case 5:e.next=9;break;case 7:return e.next=9,y.q.device.tcpip.disable();case 9:case"end":return e.stop()}}),e)}))),(0,g.ky)(this,{initial:!1,queryInfo:!1,applyServicePort:!1}),(0,g.EH)((function(){y.q.device?n.initial&&n.visible&&(n.initial=!1,n.queryInfo()):n.initial=!0}))}var n,i,r;return n=e,(i=[{key:"commandBarItems",get:function(){return[{key:"refresh",disabled:!y.q.device,iconProps:{iconName:P.PJ.ArrowClockwise},text:"Refresh",onClick:this.queryInfo},{key:"apply",disabled:!y.q.device,iconProps:{iconName:P.PJ.Save},text:"Apply",onClick:this.applyServicePort}]}}])&&L(n.prototype,i),r&&L(n,r),e}(),M=new N,W=(0,b.Pi)((function(){var e;(0,w.useEffect)((function(){return(0,g.z)((function(){M.visible=!0})),function(){(0,g.z)((function(){M.visible=!1}))}}));var n=(0,w.useCallback)((function(e,n){(0,g.z)((function(){M.servicePortEnabled=!!n}))}),[]),i=(0,w.useCallback)((function(e,n){void 0!==n&&(0,g.z)((function(){return M.servicePort=n}))}),[]);return(0,t.jsxs)(u.K,function(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{},r=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),r.forEach((function(n){E(e,n,i[n])}))}return e}({},P.LE,{children:[(0,t.jsx)(h(),{children:(0,t.jsx)("title",{children:"ADB over WiFi - Android Web Toolbox"})}),(0,t.jsx)(k.X3,{items:M.commandBarItems}),(0,t.jsx)(f.v,{children:(0,t.jsx)(p.c,{children:(0,t.jsxs)(d,{children:["For WebADB to wirelessly connect to your device,",(0,t.jsx)(k.dL,{href:"https://github.com/yume-chan/ya-webadb/discussions/245#discussioncomment-384030",spaceBefore:!0,spaceAfter:!0,children:"extra software"}),"is required."]})})}),(0,t.jsx)(f.v,{children:(0,t.jsx)(p.c,{children:(0,t.jsx)(d,{children:"Your device will disconnect after changing ADB over WiFi config."})})}),(0,t.jsxs)(f.v,{children:[(0,t.jsx)(v.Z,{inlineLabel:!0,label:"service.adb.listen_addrs",disabled:!0,checked:!!M.serviceListenAddresses,onText:"Enabled",offText:"Disabled"}),null===(e=M.serviceListenAddresses)||void 0===e?void 0:e.map((function(e){return(0,t.jsx)(m.n,{disabled:!0,value:e,styles:{root:{width:300}}},e)}))]}),(0,t.jsxs)(f.v,{children:[(0,t.jsx)(v.Z,{inlineLabel:!0,label:"service.adb.tcp.port",checked:M.servicePortEnabled,disabled:!y.q.device||!!M.serviceListenAddresses,onText:"Enabled",offText:"Disabled",onChange:n}),(0,t.jsx)(m.n,{disabled:!y.q.device||!!M.serviceListenAddresses,value:M.servicePort,styles:{root:{width:300}},onChange:i})]}),(0,t.jsxs)(f.v,{children:[(0,t.jsx)(v.Z,{inlineLabel:!0,label:"persist.adb.tcp.port",disabled:!0,checked:M.persistPortEnabled,onText:"Enabled",offText:"Disabled"}),M.persistPort&&(0,t.jsx)(m.n,{disabled:!0,value:M.persistPort,styles:{root:{width:300}}})]})]}))}))},7310:function(e,n,i){"use strict";i.d(n,{c:function(){return M}});var r,s=i(8141),t=i(8061),a=i(3639),o=i(4097),c=i(1489),l=i(1411),d=i(9409),u=i(6483),f=i(7323),p=i(5516),v=i(4741),m=i(3560),g=((r={})[p.f.info]="Info",r[p.f.warning]="Info",r[p.f.error]="ErrorBadge",r[p.f.blocked]="Blocked2",r[p.f.severeWarning]="Warning",r[p.f.success]="Completed",r),b=(0,o.y)(),x=function(e){switch(e){case p.f.blocked:case p.f.error:case p.f.severeWarning:return"assertive"}return"polite"},h=function(e){switch(e){case p.f.blocked:case p.f.error:case p.f.severeWarning:return"alert"}return"status"},w=a.forwardRef((function(e,n){var i=(0,v.k)(!1),r=i[0],s=i[1].toggle,o=(0,m.M)("MessageBar"),w=e.actions,k=e.className,y=e.children,P=e.overflowButtonAriaLabel,B=e.dismissIconProps,S=e.styles,L=e.theme,E=e.messageBarType,N=void 0===E?p.f.info:E,M=e.onDismiss,W=void 0===M?void 0:M,C=e.isMultiline,T=void 0===C||C,j=e.truncated,q=e.dismissButtonAriaLabel,I=e.messageBarIconProps,A=e.role,O=e.delayedRender,D=void 0===O||O,_=e.expandButtonProps,z=(0,c.pq)(e,c.iY,["className","role"]),F=b(S,{theme:L,messageBarType:N||p.f.info,onDismiss:void 0!==W,actions:void 0!==w,truncated:j,isMultiline:T,expandSingleLine:r,className:k}),J={iconName:r?"DoubleChevronUp":"DoubleChevronDown"},H=w||W?{"aria-describedby":o,role:"region"}:{},R=w?a.createElement("div",{className:F.actions},w):null,Y=W?a.createElement(u.h,{disabled:!1,className:F.dismissal,onClick:W,iconProps:B||{iconName:"Clear"},title:q,ariaLabel:q}):null;return a.createElement("div",(0,t.pi)({ref:n,className:F.root},H),a.createElement("div",{className:F.content},a.createElement("div",{className:F.iconContainer,"aria-hidden":!0},I?a.createElement(f.J,(0,t.pi)({},I,{className:(0,l.i)(F.icon,I.className)})):a.createElement(f.J,{iconName:g[N],className:F.icon})),a.createElement("div",{className:F.text,id:o,role:A||h(N),"aria-live":x(N)},a.createElement("span",(0,t.pi)({className:F.innerText},z),D?a.createElement(d.U,null,a.createElement("span",null,y)):a.createElement("span",null,y))),!T&&!R&&j&&a.createElement("div",{className:F.expandSingleLine},a.createElement(u.h,(0,t.pi)({disabled:!1,className:F.expand,onClick:s,iconProps:J,ariaLabel:P,"aria-expanded":r},_))),!T&&R,!T&&Y&&a.createElement("div",{className:F.dismissSingleLine},Y),T&&Y),T&&R)}));w.displayName="MessageBar";var k,y,P,B=i(2245),S={root:"ms-MessageBar",error:"ms-MessageBar--error",blocked:"ms-MessageBar--blocked",severeWarning:"ms-MessageBar--severeWarning",success:"ms-MessageBar--success",warning:"ms-MessageBar--warning",multiline:"ms-MessageBar-multiline",singleline:"ms-MessageBar-singleline",dismissalSingleLine:"ms-MessageBar-dismissalSingleLine",expandingSingleLine:"ms-MessageBar-expandingSingleLine",content:"ms-MessageBar-content",iconContainer:"ms-MessageBar-icon",text:"ms-MessageBar-text",innerText:"ms-MessageBar-innerText",dismissSingleLine:"ms-MessageBar-dismissSingleLine",expandSingleLine:"ms-MessageBar-expandSingleLine",dismissal:"ms-MessageBar-dismissal",expand:"ms-MessageBar-expand",actions:"ms-MessageBar-actions",actionsSingleline:"ms-MessageBar-actionsSingleLine"},L=((k={})[p.f.error]="errorBackground",k[p.f.blocked]="errorBackground",k[p.f.success]="successBackground",k[p.f.warning]="warningBackground",k[p.f.severeWarning]="severeWarningBackground",k[p.f.info]="infoBackground",k),E=((y={})[p.f.error]="rgba(255, 0, 0, 0.3)",y[p.f.blocked]="rgba(255, 0, 0, 0.3)",y[p.f.success]="rgba(48, 241, 73, 0.3)",y[p.f.warning]="rgba(255, 254, 57, 0.3)",y[p.f.severeWarning]="rgba(255, 0, 0, 0.3)",y[p.f.info]="Window",y),N=((P={})[p.f.error]="errorIcon",P[p.f.blocked]="errorIcon",P[p.f.success]="successIcon",P[p.f.warning]="warningIcon",P[p.f.severeWarning]="severeWarningIcon",P[p.f.info]="infoIcon",P),M=(0,s.z)(w,(function(e){var n,i,r,s,a,o=e.theme,c=e.className,l=e.onDismiss,d=e.truncated,u=e.isMultiline,f=e.expandSingleLine,v=e.messageBarType,m=void 0===v?p.f.info:v,g=o.semanticColors,b=o.fonts,x=(0,B.sK)(0,B.mV),h=(0,B.Cn)(S,o),w={fontSize:B.ld.xSmall,height:10,lineHeight:"10px",color:g.messageText,selectors:(n={},n[B.qJ]=(0,t.pi)((0,t.pi)({},(0,B.xM)()),{color:"WindowText"}),n)},k=[(0,B.GL)(o,{inset:1,highContrastStyle:{outlineOffset:"-6px",outline:"1px solid Highlight"},borderColor:"transparent"}),{flexShrink:0,width:32,height:32,padding:"8px 12px",selectors:{"& .ms-Button-icon":w,":hover":{backgroundColor:"transparent"},":active":{backgroundColor:"transparent"}}}];return{root:[h.root,b.medium,m===p.f.error&&h.error,m===p.f.blocked&&h.blocked,m===p.f.severeWarning&&h.severeWarning,m===p.f.success&&h.success,m===p.f.warning&&h.warning,u?h.multiline:h.singleline,!u&&l&&h.dismissalSingleLine,!u&&d&&h.expandingSingleLine,{background:g[L[m]],color:g.messageText,minHeight:32,width:"100%",display:"flex",wordBreak:"break-word",selectors:(i={".ms-Link":{color:g.messageLink,selectors:{":hover":{color:g.messageLinkHovered}}}},i[B.qJ]=(0,t.pi)((0,t.pi)({},(0,B.xM)()),{background:E[m],border:"1px solid WindowText",color:"WindowText"}),i)},u&&{flexDirection:"column"},c],content:[h.content,{display:"flex",width:"100%",lineHeight:"normal"}],iconContainer:[h.iconContainer,{fontSize:B.ld.medium,minWidth:16,minHeight:16,display:"flex",flexShrink:0,margin:"8px 0 8px 12px"}],icon:{color:g[N[m]],selectors:(r={},r[B.qJ]=(0,t.pi)((0,t.pi)({},(0,B.xM)()),{color:"WindowText"}),r)},text:[h.text,(0,t.pi)((0,t.pi)({minWidth:0,display:"flex",flexGrow:1,margin:8},b.small),{selectors:(s={},s[B.qJ]=(0,t.pi)({},(0,B.xM)()),s)}),!l&&{marginRight:12}],innerText:[h.innerText,{lineHeight:16,selectors:{"& span a:last-child":{paddingLeft:4}}},d&&{overflow:"visible",whiteSpace:"pre-wrap"},!u&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},!u&&!d&&{selectors:(a={},a[x]={overflow:"visible",whiteSpace:"pre-wrap"},a)},f&&{overflow:"visible",whiteSpace:"pre-wrap"}],dismissSingleLine:h.dismissSingleLine,expandSingleLine:h.expandSingleLine,dismissal:[h.dismissal,k],expand:[h.expand,k],actions:[u?h.actions:h.actionsSingleline,{display:"flex",flexGrow:0,flexShrink:0,flexBasis:"auto",flexDirection:"row-reverse",alignItems:"center",margin:"0 12px 0 8px",selectors:{"& button:nth-child(n+2)":{marginLeft:8}}},u&&{marginBottom:8},l&&!u&&{marginRight:0}]}}),void 0,{scope:"MessageBar"})},5516:function(e,n,i){"use strict";var r;i.d(n,{f:function(){return r}}),function(e){e[e.info=0]="info",e[e.error=1]="error",e[e.blocked=2]="blocked",e[e.severeWarning=3]="severeWarning",e[e.success=4]="success",e[e.warning=5]="warning"}(r||(r={}))}},function(e){e.O(0,[133,774,888,179],(function(){return n=5321,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=tcpip-8bf10b2a3af5bf6f.js.map
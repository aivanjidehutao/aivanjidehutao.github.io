(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[236],{1381:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shell",function(){return n(7122)}])},5381:function(e,t,n){"use strict";n.d(t,{i:function(){return b}});var r=n(9017),o=n(2041),i=n(1788),s=n(219),c=n(51),a=n(5815),l=n(9023);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}var b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(n,e);var t=v(n);function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=t.call(this)).element=document.createElement("div"),e.terminal=new s.Terminal({scrollback:9e3}),e.searchAddon=new a.SearchAddon,e.fitAddon=new c.FitAddon,e.element.style.width="100%",e.element.style.height="100%",e.element.style.overflow="hidden",e.terminal.options.fontFamily='"Cascadia Code", Consolas, monospace, "Source Han Sans SC", "Microsoft YaHei"',e.terminal.options.letterSpacing=1,e.terminal.options.cursorStyle="bar",e.terminal.loadAddon(e.searchAddon),e.terminal.loadAddon(e.fitAddon),e}var o,f,h,p=n.prototype;return p.setContainer=function(e){e.appendChild(this.element),this.terminal.element||(this.element.offsetWidth,this.terminal.open(this.element),this.terminal.loadAddon(new l.WebglAddon),this.terminal.options.cursorBlink=!0,this.fit())},p.fit=function(){var e;this.fitAddon.fit();var t=this.terminal,n=t.rows,r=t.cols;null===(e=this._socket)||void 0===e||e.resize(n,r)},o=n,(f=[{key:"socket",get:function(){return this._socket},set:function(e){var t;if(this._socket&&(this.dispose(),null===(t=this._socketAbortController)||void 0===t||t.abort()),this._socket=e,e){var n=this;this.terminal.clear(),this.terminal.reset(),this._socketAbortController=new i.HS,e.stdout.pipeTo(new i.Vj({write:function(e){n.terminal.write(e)}}),{signal:this._socketAbortController.signal});var o=e.stdin.getWriter();this.addDisposable(this.terminal.onData((function(e){var t=(0,r.lz)(e);o.write(t)}))),this.fit()}}}])&&u(o.prototype,f),h&&u(o,h),n}(o.Xn)},7122:function(e,t,n){"use strict";n.r(t);var r,o=n(9837),i=n(3803),s=n(5105),c=n(3491),a=n(6483),l=n(2828),u=n(7015),f=n(8144),h=n.n(f),d=n(3639),p=(n(1719),n(3617)),v=n(5353),b=n(2373);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=n(5381).i;r=new w;var m=(0,l.ky)({visible:!1,setVisible:function(e){this.visible=e},searchKeyword:"",setSearchKeyword:function(e){this.searchKeyword=e,r.searchAddon.findNext(e,{incremental:!0})},searchPrevious:function(){r.searchAddon.findPrevious(this.searchKeyword)},searchNext:function(){r.searchAddon.findNext(this.searchKeyword)}},{searchPrevious:l.aD.bound,searchNext:l.aD.bound});(0,l.EH)((function(){r&&(v.q.device?!r.socket&&m.visible&&v.q.device.subprocess.shell().then((0,l.aD)((function(e){r.socket=e})),(function(e){v.q.showErrorDialog(e)})):r.socket=void 0)}));var j={iconName:b.PJ.ChevronUp},_={iconName:b.PJ.ChevronDown};t.default=(0,u.Pi)((function(){var e=(0,d.useCallback)((function(e,t){m.setSearchKeyword(null!==t&&void 0!==t?t:"")}),[]),t=(0,d.useCallback)((function(){r.fit()}),[]),n=(0,d.useCallback)((function(e){e&&r.setContainer(e)}),[]);return(0,d.useEffect)((function(){return m.setVisible(!0),function(){m.setVisible(!1)}}),[]),(0,o.jsxs)(i.K,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){y(e,t,n[t])}))}return e}({},b.LE,{children:[(0,o.jsx)(h(),{children:(0,o.jsx)("title",{children:"Interactive Shell - Android Web Toolbox"})}),(0,o.jsx)(s.v,{children:(0,o.jsxs)(i.K,{horizontal:!0,children:[(0,o.jsx)(s.v,{grow:!0,children:(0,o.jsx)(c.R,{placeholder:"Find",value:m.searchKeyword,onChange:e,onSearch:m.searchNext})}),(0,o.jsx)(s.v,{children:(0,o.jsx)(a.h,{disabled:!m.searchKeyword,iconProps:j,onClick:m.searchPrevious})}),(0,o.jsx)(s.v,{children:(0,o.jsx)(a.h,{disabled:!m.searchKeyword,iconProps:_,onClick:m.searchNext})})]})}),(0,o.jsxs)(s.v,{grow:!0,styles:{root:{position:"relative",minHeight:0}},children:[(0,o.jsx)(p.do,{onResize:t}),(0,o.jsx)("div",{ref:n,style:{height:"100%"}})]})]}))}))}},function(e){e.O(0,[462,957,774,888,179],(function(){return t=1381,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=shell-d9775b1c1621dee7.js.map